{
  // Enable or disable the plugin
  "enabled": true,
  // Enable debug logging to ~/.config/opencode/logs/dcp/
  "debug": false,
  // Show toast notifications when a new version is available
  "showUpdateToasts": true,
  // Summary display: "off", "minimal", or "detailed"
  "pruningSummary": "detailed",
  // Strategies for pruning tokens from chat history
  "strategies": {
    // Remove duplicate tool calls (same tool with same arguments)
    "deduplication": {
      "enabled": true,
      // Additional tools to protect from pruning
      "protectedTools": [],
    },
    // Exposes a prune tool to your LLM to call when it determines pruning is necessary
    "pruneTool": {
      "enabled": true,
      // Additional tools to protect from pruning
      "protectedTools": [],
      // Nudge the LLM to use the prune tool (every <frequency> tool results)
      "nudge": {
        "enabled": true,
        "frequency": 10,
      },
    },
    // (Legacy) Run an LLM to analyze what tool calls are no longer relevant on idle
    "onIdle": {
      "enabled": false,
      // Override model for analysis (format: "provider/model")
      "model": "github-copilot/gpt-5-mini",
      // Show toast notifications when model selection fails
      "showModelErrorToasts": true,
      // When true, fallback models are not permitted
      "strictModelSelection": true,
      // Additional tools to protect from pruning
      "protectedTools": ["code-reasoning_code-reasoning"],
    },
  },
}
